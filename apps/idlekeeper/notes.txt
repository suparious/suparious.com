docker run -d \
  -p 5000:5000 \
  --restart=always \
  --name registry \
  registry:2

docker build -t ds-cuda-dev:5000/docker-fargate-gpu-test --rm -f Dockerfile .
 # ds-cuda-dev:5000/docker-fargate-gpu-test:latest

sudo docker run --rm --gpus all nvidia/cuda:11.0-base nvidia-smi
sudo docker run --rm --gpus all ds-cuda-dev:5000/docker-fargate-gpu-test

sudo docker run --rm --gpus all --entrypoint bash ds-cuda-dev:5000/docker-fargate-gpu-test
sudo docker run -it --rm --gpus all --entrypoint bash ds-cuda-dev:5000/docker-fargate-gpu-test

docker rm $(docker ps -a -q)
docker rmi $(docker images | grep "^<none>" | awk "{print $3}")
docker system df

# storage solution
mkdir -p /var/lib/docker/devicemapper/devicemapper
dd if=/dev/zero of=/var/lib/docker/devicemapper/devicemapper/data bs=1G count=0 seek=250
